<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <title>kotlin에서 조건문(blcok문)변수 제대로 쓰기 - 김영천 블로그</title>
  <meta property="og:title" content="kotlin에서 조건문(blcok문)변수 제대로 쓰기 - 김영천 블로그" />
  <meta name="twitter:title" content="kotlin에서 조건문(blcok문)변수 제대로 쓰기 - 김영천 블로그" />
  <meta name="description" content="kotlin에서 if, when, try(catch)문을 이용한 변수 할당방법을 알아보자.">
  <meta property="og:description" content="kotlin에서 if, when, try(catch)문을 이용한 변수 할당방법을 알아보자.">
  <meta name="twitter:description" content="kotlin에서 if, when, try(catch)문을 이용한 변수 할당방법을 알아보자.">
  <meta name="author" content="YeongCheon Kim"/>
  <meta property="og:site_name" content="김영천 블로그" />
  <meta property="og:url" content="https://yeongcheon.github.io/posts/2020-01-26-kotlin-setting-condition-variable/" />
  <meta property="og:type" content="article" />
  <meta property="og:image" content="https://yeongcheon.github.io/images/profile_no_background.png" />
  <meta name="twitter:image" content="https://yeongcheon.github.io/images/profile_no_background.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.74.2" />


  <link rel="stylesheet" href="/css/style.css" media="all" />
  <link rel="stylesheet" href="/css/syntax.css" media="all" />
  <link rel="stylesheet" href="/css/custom.css" media="all" />

  <script src="/js/script.js"></script>
  <script src="/js/custom.js"></script>
  <script defer src="/js/fontawesome.js"></script>
</head>

<body>

<header class="site-header">
  <nav class="site-navi">
      <h1 class="site-title">
		  <a href="/">
			  <img src="/images/profile_no_background.png" />김영천 블로그 - 게을러지고 싶으면 공부해야 합니다.
		  </a>
	  </h1>
    <ul class="site-navi-items">
      <li class="site-navi-item-tags"><a href="/tags/" title="Tags">Tags</a></li>
      <li class="site-navi-item-archives"><a href="/posts/" title="Archives">Archives</a></li>
      <li class="site-navi-item-about"><a href="/about/" title="About">About</a></li>
    </ul>
  </nav>
</header>
<hr class="site-header-bottom">


  <div class="main" role="main">
    <article class="article">
      
      
      <h1 class="article-title">kotlin에서 조건문(blcok문)변수 제대로 쓰기</h1>
      <h2 class="article-subtitle">kotlin에서 if, when, try(catch)문을 이용한 변수 할당방법을 알아보자.</h2>
      <hr class="article-title-bottom">
      <ul class="article-meta">
        <li class="article-meta-date"><time>January 26, 2020</time></li>
        <li class="article-meta-tags">
          <a href="/tags/kotlin/">
            <i class="fas fa-tag"></i>
            kotlin
          </a>&nbsp;
        </li>
      </ul>
      
<aside class="toc">
  <nav id="TableOfContents">
<ul>
<li><a href="#headline-1">기본 문법</a>
<ul>
<li><a href="#headline-2">if 사용법</a>
</li>
<li><a href="#headline-3">when 사용법</a>
</li>
</ul>
</li>
<li><a href="#headline-4">내가 했던 실수</a>
<ul>
<li><a href="#headline-5">잘못된 코드</a>
</li>
<li><a href="#headline-6">제대로 된 코드</a>
</li>
</ul>
</li>
<li><a href="#headline-7">후기</a>
</li>
</ul>
</nav>
</aside>
      
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
기본 문법
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<div id="outline-container-headline-2" class="outline-3">
<h3 id="headline-2">
if 사용법
</h3>
<div id="outline-text-headline-2" class="outline-text-3">
<p>kotlin에서는 if, when, try catch문을 활용해서 변수에 값을 편하게 할당할 수 있다. 예를 들어서 자바에서 아래와 같이 쓰는 문법이 있다고 해보자.</p>
<div class="src src-kotlin">
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">// java code
</span><span style="color:#75715e"></span>String name;

<span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">true</span>) {
  name = <span style="color:#e6db74">&#34;YeongCheon&#34;</span>
} <span style="color:#66d9ef">else</span> {
  name = <span style="color:#66d9ef">null</span>
}

<span style="color:#75715e">// 또는 삼항 연산자로 처리할수도 있다.
</span><span style="color:#75715e"></span>name = <span style="color:#66d9ef">true</span> ? <span style="color:#e6db74">&#34;YeongCheon&#34;</span> : <span style="color:#66d9ef">null</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   위와 동일한 문법을 코틀린에서는 아래처럼 쓸 수 있다.</p>
<div class="src src-kotlin">
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">// kotlin code
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> name = <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">true</span>) {
  <span style="color:#e6db74">&#34;YeongCheon&#34;</span>
} <span style="color:#66d9ef">else</span> {
  <span style="color:#66d9ef">null</span>
}

<span style="color:#75715e">// 코틀린에서는 삼항 연산자를 지원하지 않는다.</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
  위와 같이 코드를 작성하면 if문 안에 각 block 안의 가장 마지막 코드가 name 변수 안에 할당된다. 그리고 위 예제에서 name 변수의 타입은 자동으로 <strong>String?</strong> 이 된다. 만약 else 블록에서 마찬가지로 String 타입을 반환하면 name 변수의 타입은 <strong>String</strong>, 그 이외에 다른 타입을 반환하면 <strong>Any</strong> 타입이 된다.</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-3">
<h3 id="headline-3">
when 사용법
</h3>
<div id="outline-text-headline-3" class="outline-text-3">
<p>자바의 switch문에 해당하는 when, 그리고 try catch 문법도 위처럼 동일하게 사용할 수 있다.</p>
<div class="src src-kotlin">
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">val</span> number = <span style="color:#ae81ff">1</span>;
<span style="color:#66d9ef">val</span> numberString = <span style="color:#66d9ef">when</span>(number) {
  <span style="color:#ae81ff">0</span> -&gt; <span style="color:#e6db74">&#34;zero&#34;</span>
  <span style="color:#ae81ff">1</span> -&gt; <span style="color:#e6db74">&#34;one&#34;</span>
  <span style="color:#ae81ff">2</span> -&gt; <span style="color:#e6db74">&#34;two&#34;</span>
  <span style="color:#ae81ff">3</span> -&gt; <span style="color:#e6db74">&#34;three&#34;</span>
  <span style="color:#66d9ef">else</span> -&gt; <span style="color:#66d9ef">null</span>
}</code></pre></td></tr></table>
</div>
</div>
</div>
<p>
  위 코드에서 numberString 변수의 타입은 <strong>String?</strong>, 값은 &#34;one&#34; 이 할당된다.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-4" class="outline-2">
<h2 id="headline-4">
내가 했던 실수
</h2>
<div id="outline-text-headline-4" class="outline-text-2">
<p>이 섹션이 내가 이번 글을 작성하게 된 이유다. 위에서 설명한 문법을 사용하다가 범하게 된 실수에 대해 이야기하고자 한다. 별것도 아닌 오류이지만 심각한 문제를 야기할 수 있다.</p>
<div id="outline-container-headline-5" class="outline-3">
<h3 id="headline-5">
잘못된 코드
</h3>
<div id="outline-text-headline-5" class="outline-text-3">
<div class="src src-kotlin">
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">test</span>(number: Int): Boolean {
     <span style="color:#66d9ef">val</span> processResult = <span style="color:#66d9ef">if</span>(number == <span style="color:#ae81ff">1</span>) {
       <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>
     } <span style="color:#66d9ef">else</span> {
	    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>
   	}

     test02()

     <span style="color:#66d9ef">if</span>(processResult) {
         <span style="color:#66d9ef">return</span> test03()
     } <span style="color:#66d9ef">else</span> {
         <span style="color:#66d9ef">return</span> test04()
     }
}</code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   test02, test03, test04 메서드가 제대로 작성되어 있다는 가정 하에 위 코드는 문법상으로는 전혀 문제가 없는 코드이다. 위 코드에서 문제점을 발견하였는가?</p>
<p>
   위 코드에는 dead code가 존재한다. processResult에 값을 할당하는 코드 이후, 즉 test02 메서드는 number 변수의 값에 상관없이 절대 실행되지 않는데 그 이유는 간단하다. 나는 위 코드에서 processResult에 true, 또는 false가 할당될것이라 기대하고 코드를 작성하였지만 <strong>if문 안에 return 키워드를 쓰고 말았다. 그 결과 test 메서드는 number가 1이면 true, 아니면 false를 반환하는 단순한 메서드가 되버리고 말았다.</strong> </p>
</div>
</div>
<div id="outline-container-headline-6" class="outline-3">
<h3 id="headline-6">
제대로 된 코드
</h3>
<div id="outline-text-headline-6" class="outline-text-3">
<div class="src src-kotlin">
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">test</span>(number: Int): Boolean {
     <span style="color:#66d9ef">val</span> processResult = <span style="color:#66d9ef">if</span>(number == <span style="color:#ae81ff">1</span>) {
         <span style="color:#66d9ef">true</span>
     } <span style="color:#66d9ef">else</span> {
	     <span style="color:#66d9ef">false</span>
   	}

     test02()

     <span style="color:#66d9ef">if</span>(processResult) {
         <span style="color:#66d9ef">return</span> test03()
     } <span style="color:#66d9ef">else</span> {
         <span style="color:#66d9ef">return</span> test04()
     }
}</code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   <strong>processResult에 값을 할당하는 구문에서 return 키워드를 제거했다.</strong> 이 후 코드는 내가 의도한대로 test02 메서드를 실행한 후 processResult 값에 따라 test03 또는 test04 메서드를 실행시킨 후 그 결과값을 반환한 후 메서드를 종료한다.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-7" class="outline-2">
<h2 id="headline-7">
후기
</h2>
<div id="outline-text-headline-7" class="outline-text-2">
<p>이번 글처럼 아주 기초적인 문법 오류 때문에 꽤 심각한 상황을 맞이한 적이 있어서 이 글을 작성하게 되었다. 예제에서는 별 것 아닌것처럼 보이지만 수많은 코드 속에 위에서 설명한 <strong>문법상 문제는 없지만</strong> 의도한대로 작동하지 않는 코드를 잡아내는건 꽤나 힘이 드는 작업이다. 버그를 잡아내놓고 스스로도 어이가 없어서 실소를 했던 기억이 난다. 다른 사람들은 이런 어이없는 버그는 안 만들길 바란다.</p>
</div>
</div>

    </article>

    

    <div class="disqus-comments">
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "yeongcheon" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

    <ul class="pager article-pager">
      <li class="pager-newer">
          <a href="/posts/2020-03-08-emacs-all-package-upgrade/" data-toggle="tooltip" data-placement="top" title="emacs에서 내가 사용중인 모든 패키지 업그레이드 하기">&lt; Newer</a>
      </li>
      <li class="pager-older">
        <a href="/posts/2020-01-08-emacs-path-setting/" data-toggle="tooltip" data-placement="top" title="emacs에 $PATH 환경변수 인식 시키기">Older &gt;</a>
      </li>
    </ul>
  </div>


<div class="site-footer">
  <div class="copyright">&copy; Copyright 2020 YeongCheon</div>
  <ul class="site-footer-items">
    <li class="site-footer-item-about"><a href="/about/" title="About">About</a></li>
  </ul>
  <div class="powerdby">
    Powered by <a href="https://gohugo.io/">Hugo</a> and <a href="https://github.com/taikii/whiteplain">Whiteplain</a>
  </div>
</div>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-135478508-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


</body>
<script data-ad-client="ca-pub-4599234083355765" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</html>
