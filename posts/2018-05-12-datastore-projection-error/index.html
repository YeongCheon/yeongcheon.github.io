<!doctype html><html lang=ko><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>datastore에서 projection query 실행 시 time.Time이 int64로 반환되는 문제 해결하기 - 김영천 블로그</title><meta name=Description content="Learn to be Lazy"><meta property="og:url" content="https://yeongcheon.github.io/posts/2018-05-12-datastore-projection-error/">
<meta property="og:site_name" content="김영천 블로그"><meta property="og:title" content="datastore에서 projection query 실행 시 time.Time이 int64로 반환되는 문제 해결하기"><meta property="og:description" content="요구사항 datastore에 내 프로필을 방문한 사용자의 ID와 방문시간을 각각 string, time.Time 형식으로 저장하고 있다. 구조체로 보면 다음과 같다. 1 2 3 4 5 type Visitor struct {"><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-05-12T13:00:00+09:00"><meta property="article:modified_time" content="2019-03-03T18:35:34+09:00"><meta property="article:tag" content="Gcp"><meta property="article:tag" content="Gae"><meta property="article:tag" content="Golang"><meta property="og:image" content="https://yeongcheon.github.io/images/profile_no_background.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yeongcheon.github.io/images/profile_no_background.png"><meta name=twitter:title content="datastore에서 projection query 실행 시 time.Time이 int64로 반환되는 문제 해결하기"><meta name=twitter:description content="요구사항 datastore에 내 프로필을 방문한 사용자의 ID와 방문시간을 각각 string, time.Time 형식으로 저장하고 있다. 구조체로 보면 다음과 같다. 1 2 3 4 5 type Visitor struct {"><meta name=application-name content="김영천 블로그"><meta name=apple-mobile-web-app-title content="김영천 블로그"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://yeongcheon.github.io/posts/2018-05-12-datastore-projection-error/><link rel=prev href=https://yeongcheon.github.io/posts/2018-04-29-gae-datastore-indexes/><link rel=next href=https://yeongcheon.github.io/posts/2018-06-10-gae-image-api/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><meta name=google-site-verification content="H-82h77dqtsTaOMUy7Ygl0t2MKqA_dYxGjcE-5A-Vhk"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"datastore에서 projection query 실행 시 time.Time이 int64로 반환되는 문제 해결하기","inLanguage":"ko","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/yeongcheon.github.io\/posts\/2018-05-12-datastore-projection-error\/"},"image":["https:\/\/yeongcheon.github.io\/images\/profile_no_background.png"],"genre":"posts","keywords":"GCP, GAE, golang","wordcount":1083,"url":"https:\/\/yeongcheon.github.io\/posts\/2018-05-12-datastore-projection-error\/","datePublished":"2018-05-12T13:00:00+09:00","dateModified":"2019-03-03T18:35:34+09:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"YeongCheon Kim"},"description":""}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1746942287310414" crossorigin=anonymous></script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="김영천 블로그"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/profile_no_background.png data-srcset="/images/profile_no_background.png, /images/profile_no_background.png 1.5x, /images/profile_no_background.png 2x" data-sizes=auto alt=/images/profile_no_background.png title=/images/profile_no_background.png>김영천 블로그<span class=header-title-post><sup>"Learn to be Lazy"</sup></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/about/>About </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="테마 변경">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="김영천 블로그"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/profile_no_background.png data-srcset="/images/profile_no_background.png, /images/profile_no_background.png 1.5x, /images/profile_no_background.png 2x" data-sizes=auto alt=/images/profile_no_background.png title=/images/profile_no_background.png>김영천 블로그<span class=header-title-post><sup>"Learn to be Lazy"</sup></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/about/ title>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="테마 변경">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>목차</h2><div class="toc-content always-active" id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">datastore에서 projection query 실행 시 time.Time이 int64로 반환되는 문제 해결하기</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/yeongcheon title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>YeongCheon Kim</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2018-05-12>2018-05-12</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;1083 단어&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;읽는데 약 3분&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>목차</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#요구사항>요구사항</a></li><li><a href=#projection-query-사용하기>Projection Query 사용하기</a></li></ul></nav></div></div><div class=content id=content><h2 id=요구사항>요구사항</h2><p>datastore에 내 프로필을 방문한 사용자의 ID와 방문시간을 각각 <code>string</code>, <code>time.Time</code> 형식으로 저장하고 있다. 구조체로 보면 다음과 같다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Visitor</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>UserId</span> <span class=kt>string</span> <span class=c1>//조회한 프로필의 Id
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>VisitorId</span> <span class=kt>string</span> <span class=c1>//방문자 Id
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>VisitTime</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Time</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>이 데이터를 단순히 조회하면 한 사용자가 나를 여러번 방문할 경우 결과 리스트에 그 방문자가 여러번 출력된다. 나는 동일한 사용자가 여러번 반복해도 가장 최근에 방문한 기록만 보길 원했다. 즉 datastore에서 SQL 문법의 <strong>group by</strong>를 사용하고 싶었다. 내 요구사항을 SQL로 표현하자면 아래와 같다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>VisitorId</span><span class=p>,</span><span class=w> </span><span class=k>MAX</span><span class=p>(</span><span class=n>VisitTime</span><span class=p>)</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>UserId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>VisitorId</span><span class=w> </span><span class=k>Order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>VisitTime</span><span class=w> </span><span class=k>desc</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=projection-query-사용하기>Projection Query 사용하기</h2><p><a href=https://godoc.org/cloud.google.com/go/datastore target=_blank rel="noopener noreffer">datastore client</a>에서 Group by를 사용하기 위해선 <a href=https://cloud.google.com/appengine/docs/standard/go/datastore/projectionqueries target=_blank rel="noopener noreffer">Projection Query</a>를 사용해야 한다. 앞에 링크된 문서를 참고해서 아래와 같은 코드를 작성했다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>dsClient</span><span class=p>,</span> <span class=nx>_</span> <span class=o>:=</span> <span class=nx>datastore</span><span class=p>.</span><span class=nf>NewClient</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>projectID</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>query</span> <span class=o>:=</span> <span class=nx>datastore</span><span class=p>.</span><span class=nf>NewQuery</span><span class=p>(</span><span class=nx>userDao</span><span class=p>.</span><span class=nx>VisitorEntity</span><span class=p>).</span>
</span></span><span class=line><span class=cl>		<span class=nf>Filter</span><span class=p>(</span><span class=s>&#34;UserId =&#34;</span><span class=p>,</span> <span class=nx>userId</span><span class=p>).</span>
</span></span><span class=line><span class=cl>		<span class=nf>Project</span><span class=p>(</span><span class=s>&#34;VisitorId&#34;</span><span class=p>,</span> <span class=s>&#34;VisitTime&#34;</span><span class=p>).</span>
</span></span><span class=line><span class=cl>		<span class=nf>DistinctOn</span><span class=p>(</span><span class=s>&#34;VisitorId&#34;</span><span class=p>).</span>
</span></span><span class=line><span class=cl>		<span class=nf>Order</span><span class=p>(</span><span class=s>&#34;-VisitTime&#34;</span><span class=p>).</span><span class=nf>Order</span><span class=p>(</span><span class=s>&#34;VisitorId&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		
</span></span><span class=line><span class=cl><span class=nx>visitorList</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=nx>models</span><span class=p>.</span><span class=nx>Visitor</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>_</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>dsClient</span><span class=p>.</span><span class=nf>GetAll</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>query</span><span class=p>,</span> <span class=o>&amp;</span><span class=nx>visitorList</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>자세하게 설명하기에 앞서 미리 얘기하자면 이 쿼리가 맞는 쿼리인지는 솔직히 확신이 서지 않는다. 일단 더미데이터를 이용해서 테스트를 했을때 잘 나오기는 했는데 VisitTime이 항상 최신 내용(Max)으로 나올지 자신이 없다. 추 후 관련 내용을 좀 더 찾아보고 업데이트 하겠다.</p><p>아무튼 위 코드를 실행하면 아래와 같은 에러메세지를 내뿜는다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>datastore: cannot load field &#34;VisitTime&#34; into a &#34;model.Visitor&#34;: type mismatch: int versus time.Time
</span></span></code></pre></td></tr></table></div></div><p>내용을 살펴보면 VisitTime 필드의 내용이 int형인데 time.Time 형식으로 받으려고 했기 때문에 에러가 났다는 내용이다. 하지만 데이터를 입력할 때도 동일한 구조체를 사용했고 실제로 클라우드 콘솔에서 데이터를 조회해봐도 날짜형식으로 이쁘게 데이터가 입력되어 있었다. 열심히 검색을 해보니 <a href=https://github.com/GoogleCloudPlatform/google-cloud-python/issues/1770 target=_blank rel="noopener noreffer">나와 같은 문제를 겪은 분이 있었다</a>.</p><p>원인을 설명하자면 <code>time.Time</code>를 datastore 내부에 저장할 때 timestamp 형식으로 저장되는데 이게 projection query를 사용하면 저장되어 있는 int값 그대로 나온다는 것이다. 개발진들이 의도한 것인지 버그인지는 모르겠지만 일단 나름대로 해결책을 찾았다. 아래의 코드를 보자.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>visitor</span> <span class=o>*</span><span class=nx>Visitor</span><span class=p>)</span> <span class=nf>Save</span><span class=p>()</span> <span class=p>([]</span><span class=nx>datastore</span><span class=p>.</span><span class=nx>Property</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=p>[]</span><span class=nx>datastore</span><span class=p>.</span><span class=nx>Property</span><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>Name</span><span class=p>:</span>  <span class=s>&#34;UserId&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>Value</span><span class=p>:</span> <span class=nx>visitor</span><span class=p>.</span><span class=nx>UserId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=p>},</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>Name</span><span class=p>:</span>  <span class=s>&#34;VisitorId&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>Value</span><span class=p>:</span> <span class=nx>visitor</span><span class=p>.</span><span class=nx>VisitorId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=p>},</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>Name</span><span class=p>:</span>  <span class=s>&#34;VisitTime&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>Value</span><span class=p>:</span> <span class=nx>visitor</span><span class=p>.</span><span class=nx>VisitTime</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=p>},</span>
</span></span><span class=line><span class=cl>	<span class=p>},</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>visitor</span> <span class=o>*</span><span class=nx>Visitor</span><span class=p>)</span> <span class=nf>Load</span><span class=p>(</span><span class=nx>ps</span> <span class=p>[]</span><span class=nx>datastore</span><span class=p>.</span><span class=nx>Property</span><span class=p>)</span> <span class=kt>error</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>idx</span><span class=p>,</span> <span class=nx>property</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>ps</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=nx>property</span><span class=p>.</span><span class=nx>Name</span> <span class=o>==</span> <span class=s>&#34;VisitTime&#34;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=k>if</span> <span class=nx>s</span><span class=p>,</span> <span class=nx>isInt</span> <span class=o>:=</span> <span class=nx>property</span><span class=p>.</span><span class=nx>Value</span><span class=p>.(</span><span class=kt>int64</span><span class=p>);</span> <span class=nx>isInt</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>				<span class=nx>t</span> <span class=o>:=</span> <span class=nx>time</span><span class=p>.</span><span class=nf>Unix</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>int64</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span><span class=o>*</span><span class=nb>int64</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Microsecond</span><span class=p>))</span>
</span></span><span class=line><span class=cl>				<span class=nx>ps</span><span class=p>[</span><span class=nx>idx</span><span class=p>].</span><span class=nx>Value</span> <span class=p>=</span> <span class=nx>t</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>datastore</span><span class=p>.</span><span class=nf>LoadStruct</span><span class=p>(</span><span class=nx>visitor</span><span class=p>,</span> <span class=nx>ps</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>위 코드는 <a href=https://cloud.google.com/appengine/docs/standard/go/datastore/reference#hdr-The_PropertyLoadSaver_Interface target=_blank rel="noopener noreffer">공식 예제</a>를 참고해서 만든것이다. <code>Visitor</code> 구조체에 <a href=https://cloud.google.com/appengine/docs/standard/go/datastore/reference#PropertyLoadSaver target=_blank rel="noopener noreffer">PropertyLoadSaver</a> 인터페이스를 구현해놓은 것인데 위 코드에서는 <code>Load</code> 함수를 중점으로 보면 된다. 간단한게 설명하자면 <code>datastore.LoadStruct</code> 함수는 구조체의 각 필드이름과 <code>property.Name</code>의 값을 비교에서 동일할 경우 해당 필드에 <code>property.Value</code> 값을 넣는다. 이 때 타입이 서로 다를 경우 아까와 같은 에러가 발생하기 때문에 반복문을 이용해 VisitTime을 찾아 직접 timestamp를 <code>time.Time</code> 형식으로 바꿔준다. 이 후 다시 쿼리문을 실행시켜보면 정상적으로 작동한다. 간혹 Index 관련 에러가 발생할 수 있는데 그건 <a href=/2018/04/29/gae-datastore-indexes/ rel>이전 포스트</a>를 참고하자.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>수정: 2019-03-03</span></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/posts/2018-05-12-datastore-projection-error/index.md target=_blank>마크다운 읽기</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="공유하기 Twitter" data-sharer=twitter data-url=https://yeongcheon.github.io/posts/2018-05-12-datastore-projection-error/ data-title="datastore에서 projection query 실행 시 time.Time이 int64로 반환되는 문제 해결하기" data-hashtags=GCP,GAE,golang><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="공유하기 Facebook" data-sharer=facebook data-url=https://yeongcheon.github.io/posts/2018-05-12-datastore-projection-error/ data-hashtag=GCP><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="공유하기 Hacker News" data-sharer=hackernews data-url=https://yeongcheon.github.io/posts/2018-05-12-datastore-projection-error/ data-title="datastore에서 projection query 실행 시 time.Time이 int64로 반환되는 문제 해결하기"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="공유하기 Pocket" data-sharer=pocket data-url=https://yeongcheon.github.io/posts/2018-05-12-datastore-projection-error/><i class="fab fa-get-pocket fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/gcp/>Gcp</a>,&nbsp;<a href=/tags/gae/>Gae</a>,&nbsp;<a href=/tags/golang/>Golang</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>뒤로</a></span>&nbsp;|&nbsp;<span><a href=/>홈</a></span></section></div><div class=post-nav><a href=/posts/2018-04-29-gae-datastore-indexes/ class=prev rel=prev title="Googlde App Engine(GAE) datastore index 관련 에러 해결하기"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Googlde App Engine(GAE) datastore index 관련 에러 해결하기</a>
<a href=/posts/2018-06-10-gae-image-api/ class=next rel=next title="Google App Engine Image API 삽질 후기">Google App Engine Image API 삽질 후기<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=disqus_thread class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://disqus.com/?ref_noscript>Disqus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.125.3">Hugo</a>로 제작된 사이트 | 테마 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2017 - 2024</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://github.com/yeongcheon target=_blank>YeongCheon Kim</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="맨 위로"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="댓글 보기"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=https://yeongcheon.disqus.com/embed.js defer></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/contrib/auto-render.min.js></script><script type=text/javascript src=/lib/katex/contrib/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/contrib/mhchem.min.js></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"복사하기",maxShownLines:50},comment:{},cookieconsent:{content:{dismiss:"알겠습니다",link:"더 보기",message:"본 웹사이트는 웹 환경 개선을 위해 쿠키를 사용합니다."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0YT8RHXZR3",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-0YT8RHXZR3" async></script></body></html>