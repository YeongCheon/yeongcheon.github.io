<!doctype html><html lang=ko><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Google App Engine Image API 삽질 후기 - 김영천 블로그</title><meta name=Description content="게을러지고 싶으면 공부해야 합니다."><meta property="og:title" content="Google App Engine Image API 삽질 후기"><meta property="og:description" content="오늘은 GAE에서 제공하는 Image API를 사용하면서 겪은 어려움과 후기를 공유하고자 한다. 요구사항 GAE를 통해 업로드 된 이미지를 Google Cloud Storage(이하 G"><meta property="og:type" content="article"><meta property="og:url" content="https://yeongcheon.github.io/posts/2018-06-10-gae-image-api/"><meta property="og:image" content="https://yeongcheon.github.io/images/profile_no_background.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-06-10T12:00:00+09:00"><meta property="article:modified_time" content="2019-03-03T18:35:34+09:00"><meta property="og:site_name" content="김영천 블로그"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yeongcheon.github.io/images/profile_no_background.png"><meta name=twitter:title content="Google App Engine Image API 삽질 후기"><meta name=twitter:description content="오늘은 GAE에서 제공하는 Image API를 사용하면서 겪은 어려움과 후기를 공유하고자 한다. 요구사항 GAE를 통해 업로드 된 이미지를 Google Cloud Storage(이하 G"><meta name=application-name content="김영천 블로그"><meta name=apple-mobile-web-app-title content="김영천 블로그"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://yeongcheon.github.io/posts/2018-06-10-gae-image-api/><link rel=prev href=https://yeongcheon.github.io/posts/2018-05-12-datastore-projection-error/><link rel=next href=https://yeongcheon.github.io/posts/2018-08-01-s2-geometry/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Google App Engine Image API 삽질 후기","inLanguage":"ko","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/yeongcheon.github.io\/posts\/2018-06-10-gae-image-api\/"},"genre":"posts","keywords":"GCP, GAE, golang","wordcount":1666,"url":"https:\/\/yeongcheon.github.io\/posts\/2018-06-10-gae-image-api\/","datePublished":"2018-06-10T12:00:00+09:00","dateModified":"2019-03-03T18:35:34+09:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"YeongCheon Kim"},"description":""}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4599234083355765" crossorigin=anonymous></script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="김영천 블로그"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/profile_no_background.png data-srcset="/images/profile_no_background.png, /images/profile_no_background.png 1.5x, /images/profile_no_background.png 2x" data-sizes=auto alt=/images/profile_no_background.png title=/images/profile_no_background.png>김영천 블로그<span class=header-title-post><sup>"게을러지고 싶으면 공부해야 합니다."</sup></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/about/>About </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="테마 변경">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="김영천 블로그"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/profile_no_background.png data-srcset="/images/profile_no_background.png, /images/profile_no_background.png 1.5x, /images/profile_no_background.png 2x" data-sizes=auto alt=/images/profile_no_background.png title=/images/profile_no_background.png>김영천 블로그<span class=header-title-post><sup>"게을러지고 싶으면 공부해야 합니다."</sup></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/about/ title>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="테마 변경">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>목차</h2><div class="toc-content always-active" id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Google App Engine Image API 삽질 후기</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/yeongcheon title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>YeongCheon Kim</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2018-06-10>2018-06-10</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;1666 단어&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;읽는데 약 4분&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>목차</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#요구사항>요구사항</a></li><li><a href=#고민>고민</a></li><li><a href=#해결책-후보-리스트>해결책 후보 리스트</a></li><li><a href=#코드-구현>코드 구현</a></li><li><a href=#특이점>특이점</a></li></ul></nav></div></div><div class=content id=content><p>오늘은 GAE에서 제공하는 <a href=https://cloud.google.com/appengine/docs/standard/go/images/ target=_blank rel="noopener noreffer">Image API</a>를 사용하면서 겪은 어려움과 후기를 공유하고자 한다.</p><h2 id=요구사항>요구사항</h2><ul><li>GAE를 통해 업로드 된 이미지를 <a href=https://cloud.google.com/go/getting-started/using-cloud-storage target=_blank rel="noopener noreffer">Google Cloud Storage</a>(이하 GCS)에 보관, 파일 관련 정보를 datastore에 별도로 저장한다(업로드 한 사용자, 업로드 파일명, 업로드 날짜 등등). 이 이미지를 웹사이트를 통해 서비스를 하고싶다. 이 이미지는 사이즈가 모두 제각각인데 DSLR로 찍은 수십메가짜리 이미지부터 조그마한 썸네일 이미지까지 크기가 천차만별이다.</li><li>동일한 이미지를 여러가지 사이즈로 출력해야 한다. 가령 DSLR로 찍은 이미지를 제공할 경우 우선 100px짜리 썸네일로 제공, 사용자가 썸네일을 클릭할 경우 이미지의 원본을 보여주고 싶다.</li><li>사용자가 주로 모바일을 통해 서비스를 사용할것으로 예측되는데 사용자의 디바이스마다 최적화 된 크기의 이미지를 제공하고 싶다.</li></ul><h2 id=고민>고민</h2><p>위와 같은 요구사항을 충족시키기 위해 인터넷을 꽤 오래 뒤지고 다녔다. 처음에는 <a href=http://engineering.vcnc.co.kr/2016/05/ondemand-image-resizing/ target=_blank rel="noopener noreffer">비트윈의 블로그 글</a>을 보고 이걸 따라하면 되겠다 싶었다. 하지만 문제가 있었다. 이미지 업로드를 GAE에서 구현하다보니 <a href=https://github.com/chai2010/webp target=_blank rel="noopener noreffer">이미지를 webp 형태로 변환하는 golang 라이브러리</a>를 쓸 수가 없었다. 마찬가지로 온디멘드 리사이징도 GAE 위에서 돌리기엔 문제가 좀 있었다(내가 해결책을 못 찾은걸수도 있다). 결국 며칠동안 고민만 하고 코드를 한줄도 작성을 못해서 일단 무식한 방법으로라도 구현을 해보기로 했다. 그래서 아래와 같은 방법을 후보로 선정했다.</p><h2 id=해결책-후보-리스트>해결책 후보 리스트</h2><ol><li>제일 단순한 방법. GCS 보관되어 있는 이미지를 그대로 제공한다. 이 방법은 사용자가 모바일에서 DSLR 이미지를 호출할 경우 데이터 소모량이 너무 크다. 그리고 느린 와이파이 환경에서 접근하면 이미지 로딩 시간이 엄청 길 것으로 예상된다.</li><li>사이즈가 일정 크기 이상 되는 이미지들은 GCS에 업로드 되는 시점에 여러 크기로 resize된 사본 이미지를 미리 생성후 사용자 기기에 맞는 이미지를 제공한다. 하지만 디바이스의 종류가 너무 많고 사본 이미지를 미리 생성할 경우 얼마만큼의 사이즈로 몇개나 생성해야 할 지 알 수 없다. 그리고 GCS에 용량을 너무 많이 잡아먹을것으로 예상된다.</li><li>GAE에서 제공하는 <a href=https://cloud.google.com/appengine/docs/standard/go/images/ target=_blank rel="noopener noreffer">Images Go API</a>를 사용한다.</li></ol><p>사실 세번째 방법은 처음에 존재조차 몰랐다. 1,2번 방법을 떠올렸지만 너무 마음에 들지 않아서 이것저것 찾아보다가 발견했다. 문서를 등한시 한 내 잘못이다. 항상 공식문서를 꼼꼼히 보는 습관이 참 중요하다는 것을 다시 한번 뼈저리게 깨달았다.</p><p>Images API는 내 요구사항을 정말 완벽하게 지원하고 있었다. 사이즈 조절 및 썸네일 생성을 URL 파라메터를 통해서 지원한다. 심지어 <a href=https://cloud.google.com/appengine/docs/standard/java/images/#quotas-limits-pricing target=_blank rel="noopener noreffer">가격도 무료다</a>(Java문서긴 하지만 Go도 동일하게 적용되지 않을까 싶다).</p><p>아무튼 여러모로 장점이 많아보이니 세번째 방법을 적용해보자.</p><h2 id=코드-구현>코드 구현</h2><p>아래 코드는 GAE golang 1.8을 기준으로 작성했다. 내가 구현한 코드의 일부를 발췌해서 약간 수정한 버전으로 syntax 에러가 있을 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-golang data-lang=golang><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;google.golang.org/appengine/blobstore&#34;</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;google.golang.org/appengine/image&#34;</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;google.golang.org/appengine/log&#34;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=s>&#34;context&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>GetImageURL</span><span class=p>(</span><span class=nx>ctx</span> <span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>)</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>blobKey</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>blobstore</span><span class=p>.</span><span class=nf>BlobKeyForFile</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=s>&#34;/gs/imagename.jpg&#34;</span><span class=p>)</span> <span class=c1>// gcs에 있는 이미지 경로를 넣어준다.
</span></span></span><span class=line><span class=cl><span class=c1></span>	
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>log</span><span class=p>.</span><span class=nf>Errorf</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=s>&#34;blobKeyForFile error : %s&#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>continue</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>opts</span> <span class=o>:=</span> <span class=o>&amp;</span><span class=nx>image</span><span class=p>.</span><span class=nx>ServingURLOptions</span><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>Secure</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>url</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>image</span><span class=p>.</span><span class=nf>ServingURL</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>blobKey</span><span class=p>,</span> <span class=nx>opts</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>log</span><span class=p>.</span><span class=nf>Errorf</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=s>&#34;create ServingURL error : %s, %s&#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>,</span> <span class=nx>profileImage</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=s>&#34;&#34;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>url</span><span class=p>.</span><span class=nf>String</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>위의 코드를 실행하기 위해서 deploy 명령에 옵션을 추가해줘야 한다. 어떤 GCS 버킷을 바라볼건지 명시를 해줘야 하는데 아래의 deploy 명령을 보자.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>gcloud app deploy app.yaml --bucket gs://projectname.appspot.com
</span></span></code></pre></td></tr></table></div></div><p>위와 같이 어떤 버켓을 기본값으로 바라볼지 명시를 해줘야 한다. 위의 명령어를 이용해 deploy했다면 GetImageURL 함수를 호출하여 해당 파일을 볼 수 있는 URL을 반환받을 수 있다.</p><h2 id=특이점>특이점</h2><ul><li><strong>로컬 서버에서는 제대로 동작하지 않는다.</strong>(내가 방법을 못 찾은 걸수도 있다.) 로컬에서 <code>dev_appserver.py</code>를 이용해 위 코드를 테스트하면 비정상적인 URL이 반환되는데 이 URL은 동작하지 않는다. 테스트는 꼭 실제 GAE에서 하도록 하자. 정상적인 URL은 아래와 비슷한 모양이다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://lh3.googleusercontent.com/tUcBqKywA1YYVTll2HZzjl7LE80ta8jOseulgwBRuv6FEX989G1E49s00d9yt4pJ0ql1htNcr9MCIlp33oKyha
</span></span></code></pre></td></tr></table></div></div><ul><li>url을 생성하고 GCS에서 해당 이미지를 지워도 URL이 정상적으로 동작한다. 아마 구글 인프라 어딘가에 캐시가 되어있는거 같은데 기간이 생각보다 길다. 개인적으로 테스트를 해봤는데 파일이 지워져도 3일 이상은 계속 URL을 통해서 이미지를 볼 수 있었다. 즉 <strong>이미지를 지울 생각이면 GCS에서 삭제는 물론이고 <a href=https://cloud.google.com/appengine/docs/standard/go/images/reference#DeleteServingURL target=_blank rel="noopener noreffer">DeleteServingURL</a>을 이용해서 URL도 꼭 제거를 해줘야 한다.</strong></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>수정: 2019-03-03</span></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/posts/2018-06-10-gae-image-api/index.md target=_blank>마크다운 읽기</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="공유하기 Twitter" data-sharer=twitter data-url=https://yeongcheon.github.io/posts/2018-06-10-gae-image-api/ data-title="Google App Engine Image API 삽질 후기" data-hashtags=GCP,GAE,golang><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="공유하기 Facebook" data-sharer=facebook data-url=https://yeongcheon.github.io/posts/2018-06-10-gae-image-api/ data-hashtag=GCP><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="공유하기 Hacker News" data-sharer=hackernews data-url=https://yeongcheon.github.io/posts/2018-06-10-gae-image-api/ data-title="Google App Engine Image API 삽질 후기"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="공유하기 Pocket" data-sharer=pocket data-url=https://yeongcheon.github.io/posts/2018-06-10-gae-image-api/><i class="fab fa-get-pocket fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/gcp/>GCP</a>,&nbsp;<a href=/tags/gae/>GAE</a>,&nbsp;<a href=/tags/golang/>golang</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>뒤로</a></span>&nbsp;|&nbsp;<span><a href=/>홈</a></span></section></div><div class=post-nav><a href=/posts/2018-05-12-datastore-projection-error/ class=prev rel=prev title="datastore에서 projection query 실행 시 time.Time이 int64로 반환되는 문제 해결하기"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>datastore에서 projection query 실행 시 time.Time이 int64로 반환되는 문제 해결하기</a>
<a href=/posts/2018-08-01-s2-geometry/ class=next rel=next title="S2 library를 이용하여 가까운 위치의 사용자 찾기">S2 library를 이용하여 가까운 위치의 사용자 찾기<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=disqus_thread class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://disqus.com/?ref_noscript>Disqus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.117.0">Hugo</a>로 제작된 사이트 | 테마 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2017 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://github.com/yeongcheon target=_blank>YeongCheon Kim</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="맨 위로"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="댓글 보기"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=https://yeongcheon.disqus.com/embed.js defer></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/contrib/auto-render.min.js></script><script type=text/javascript src=/lib/katex/contrib/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/contrib/mhchem.min.js></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"복사하기",maxShownLines:50},comment:{},cookieconsent:{content:{dismiss:"알겠습니다",link:"더 보기",message:"본 웹사이트는 웹 환경 개선을 위해 쿠키를 사용합니다."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0YT8RHXZR3",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-0YT8RHXZR3" async></script></body></html>