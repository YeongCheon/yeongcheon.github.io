<!doctype html><html lang=ko>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1">
<title>kotlin - 김영천 블로그</title>
<meta property="og:title" content="kotlin - 김영천 블로그">
<meta name=twitter:title content="kotlin - 김영천 블로그">
<meta name=author content="YeongCheon Kim">
<meta property="og:site_name" content="김영천 블로그">
<meta property="og:url" content="https://yeongcheon.github.io/tags/kotlin/">
<meta property="og:type" content="website">
<meta property="og:image" content="https://yeongcheon.github.io/images/profile_no_background.png">
<meta name=twitter:image content="https://yeongcheon.github.io/images/profile_no_background.png">
<meta name=twitter:card content="summary">
<meta name=generator content="Hugo 0.92.0">
<link href=/tags/kotlin/index.xml rel=alternate type=application/rss+xml title="김영천 블로그">
<link href=/tags/kotlin/index.xml rel=feed type=application/rss+xml title="김영천 블로그">
<link rel=stylesheet href=/css/style.css media=all>
<link rel=stylesheet href=/css/syntax.css media=all>
<link rel=stylesheet href=/css/custom.css media=all>
<script src=/js/script.js></script>
<script src=/js/custom.js></script>
<script defer src=/js/fontawesome.js></script>
</head>
<body>
<header class=site-header>
<nav class=site-navi>
<h1 class=site-title>
<a href=/>
<img src=/images/profile_no_background.png>김영천 블로그 - 게을러지고 싶으면 공부해야 합니다.
</a>
</h1>
<ul class=site-navi-items>
<li class=site-navi-item-tags><a href=/tags/ title=Tags>Tags</a></li>
<li class=site-navi-item-archives><a href=/posts/ title=Archives>Archives</a></li>
<li class=site-navi-item-about><a href=/about/ title=About>About</a></li>
</ul>
</nav>
</header>
<hr class=site-header-bottom>
<div class=main role=main>
<section class="list term-list">
<article class=article>
<a href=/posts/2020-09-06-kotlin-spring-exception-rollback/ class=article-titles>
<h2 class=article-title>코틀린으로 작성된 스프링 기반 API 트랜잭션 rollback 관리</h2>
<h3 class=article-subtitle>코틀린으로 작성된 스프링 기반 API에서 Checked Exception 발생 시 rollback이 되지 않도록 해봅시다.</h3>
</a>
<ul class=article-meta>
<li class=article-meta-date><time>September 8, 2020</time></li>
<li class=article-meta-tags>
<a href=/tags/kotlin/>
<i class="fas fa-tag"></i>
kotlin
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/spring/>
<i class="fas fa-tag"></i>
spring
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/exception/>
<i class="fas fa-tag"></i>
exception
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/transaction/>
<i class="fas fa-tag"></i>
transaction
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/rollback/>
<i class="fas fa-tag"></i>
rollback
</a>&nbsp;
</li>
</ul>
<div class=article-content>
Kotlin + Spring boot을 조합해 작성한 REST API에서 CheckedException이 발생해도 Rollback이 되지 않는 문제와 그 해결법에 대해 알아봅시다. 이 글은 Spring, RDB, JPA에 대한 기본적인 이해가 있다는 가정 하에 작성되었습니다.
Checked Exception? 우선 Checked Exception에 대해서 알아봅시다. Kotlin에서 Exception은 크게 두가지로 나눌 수 있습니다.
Checked Exception: 컴파일 시 체크되는 예외입니다. Runtime Exception에 해당되지 않는 모든 Exception은 Checked Exception이 됩니다. Runtime(Unchecked) Exception: 컴파일 단계에서 체크되지 않으며(Unchecked) 실행 중(Runtime) 발생하는 예외입니다(Ex: IndexOutOfBoundsException, IllegalArgumentException, etc…).
</div>
<div class=article-readmore><a href=/posts/2020-09-06-kotlin-spring-exception-rollback/>Read more...</a></div>
<div class=article-floatclear></div>
</article>
<article class=article>
<a href=/posts/2020-01-26-kotlin-setting-condition-variable/ class=article-titles>
<h2 class=article-title>kotlin에서 조건문(blcok문)변수 제대로 쓰기</h2>
<h3 class=article-subtitle>kotlin에서 if, when, try(catch)문을 이용한 변수 할당방법을 알아보자.</h3>
</a>
<ul class=article-meta>
<li class=article-meta-date><time>January 26, 2020</time></li>
<li class=article-meta-tags>
<a href=/tags/kotlin/>
<i class="fas fa-tag"></i>
kotlin
</a>&nbsp;
</li>
</ul>
<div class=article-content>
기본 문법 if 사용법 kotlin에서는 if, when, try catch문을 활용해서 변수에 값을 편하게 할당할 수 있다. 예를 들어서 자바에서 아래와 같이 쓰는 문법이 있다고 해보자.
1 2 3 4 5 6 7 8 9 10 11 // java code String name; if(true) { name = "YeongCheon" } else { name = null } // 또는 삼항 연산자로 처리할수도 있다. name = true ? "YeongCheon" : null 위와 동일한 문법을 코틀린에서는 아래처럼 쓸 수 있다.
</div>
<div class=article-readmore><a href=/posts/2020-01-26-kotlin-setting-condition-variable/>Read more...</a></div>
<div class=article-floatclear></div>
</article>
<article class=article>
<a href=/posts/2019-11-14-jpa-one-to-many-collection-set/ class=article-titles>
<h2 class=article-title>JPA OneToMany 필드의 StackOverflowError</h2>
<h3 class=article-subtitle>JPA OneToMany 필드 타입을 Set으로 설정할 경우 stackoverflow 발생하는 문제 해결법</h3>
</a>
<ul class=article-meta>
<li class=article-meta-date><time>November 25, 2019</time></li>
<li class=article-meta-tags>
<a href=/tags/jpa/>
<i class="fas fa-tag"></i>
JPA
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/hibernate/>
<i class="fas fa-tag"></i>
hibernate
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/kotlin/>
<i class="fas fa-tag"></i>
kotlin
</a>&nbsp;
</li>
</ul>
<div class=article-content>
JPA를 사용하다 보면 StackOverflow 에러를 종종 만날 수 있다. 이 글에서는 필드 타입이 Set인 Collection 타입에 아이템을 추가할 경우 StackVoerflow 에러가 발생하는 원인과 그 해결법에 대해 알아보자.
`hashcode`, `equals` 메서드와 관계된 이야기이다.
에러 발생 시나리오 구현 목표 부모객체와 자식객체들을 서버 데이터베이스에 저장하는 기능을 가진 코드가 있었다. 부모객체와 자식객체는 1:n관계로서 하나의 부모가 여러 개의 자식을 가질 수 있고 이 두 객체는 서로의 존재를 알고 있는 양방향 관계다.
</div>
<div class=article-readmore><a href=/posts/2019-11-14-jpa-one-to-many-collection-set/>Read more...</a></div>
<div class=article-floatclear></div>
</article>
<article class=article>
<a href=/posts/2019-03-01-jpa-jackson/ class=article-titles>
<h2 class=article-title>jackson을 이용해 json 변환 시 JPA entity의 id값만 추출하기</h2>
</a>
<ul class=article-meta>
<li class=article-meta-date><time>March 1, 2019</time></li>
<li class=article-meta-tags>
<a href=/tags/json/>
<i class="fas fa-tag"></i>
json
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/jackson/>
<i class="fas fa-tag"></i>
jackson
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/jpa/>
<i class="fas fa-tag"></i>
jpa
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/kotlin/>
<i class="fas fa-tag"></i>
kotlin
</a>&nbsp;
</li>
</ul>
<div class=article-content>
들어가며 REST API 서버를 java언어에서 사용되는 대표적인 json(또는 xml, yaml, etc…) 라이브러리인 jackson 은 kotlin에서도 사용이 가능하다. JPA를 사용하다보면 entity를 json형식으로 반환할 때 해당 entity가 다른 entity를 필드로 참조하고 있을 경우 참조하는 entity의 id값만을 반환하고 싶을 경우가 있다. 이 문제를 jackson을 이용해 json형식으로 이쁘게 변환하는 법을 알아보자.
요구사항 데이터베이스에는 현재 user 테이블과 shelter 테이블이 존재한다. shelter 테이블에는 user 테이블을 참조는 외래키 제약조건이 걸려있다. 자세한 내용은 다음 섹션의 소스코드를 참고해보자.
</div>
<div class=article-readmore><a href=/posts/2019-03-01-jpa-jackson/>Read more...</a></div>
<div class=article-floatclear></div>
</article>
</section>
</div>
<div class=site-footer>
<div class=copyright>&copy; Copyright 2020 YeongCheon</div>
<ul class=site-footer-items>
<li class=site-footer-item-rsslink>
<a href=/tags/kotlin/index.xml type=application/rss+xml target=_blank title=RSS>
<i class="fas fa-rss"></i>
</a>
</li>
<li class=site-footer-item-about><a href=/about/ title=About>About</a></li>
</ul>
<div class=powerdby>
Powered by <a href=https://gohugo.io/>Hugo</a> and <a href=https://github.com/taikii/whiteplain>Whiteplain</a>
</div>
</div>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0YT8RHXZR3"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-0YT8RHXZR3',{anonymize_ip:!1})}</script>
</body>
<script data-ad-client=ca-pub-4599234083355765 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
</html>