<!doctype html><html lang=ko>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1">
<title>angular - 김영천 블로그</title>
<meta property="og:title" content="angular - 김영천 블로그">
<meta name=twitter:title content="angular - 김영천 블로그">
<meta name=author content="YeongCheon Kim">
<meta property="og:site_name" content="김영천 블로그">
<meta property="og:url" content="https://yeongcheon.github.io/tags/angular/">
<meta property="og:type" content="website">
<meta property="og:image" content="https://yeongcheon.github.io/images/profile_no_background.png">
<meta name=twitter:image content="https://yeongcheon.github.io/images/profile_no_background.png">
<meta name=twitter:card content="summary">
<meta name=generator content="Hugo 0.88.1">
<link href=/tags/angular/index.xml rel=alternate type=application/rss+xml title="김영천 블로그">
<link href=/tags/angular/index.xml rel=feed type=application/rss+xml title="김영천 블로그">
<link rel=stylesheet href=/css/style.css media=all>
<link rel=stylesheet href=/css/syntax.css media=all>
<link rel=stylesheet href=/css/custom.css media=all>
<script src=/js/script.js></script>
<script src=/js/custom.js></script>
<script defer src=/js/fontawesome.js></script>
</head>
<body>
<header class=site-header>
<nav class=site-navi>
<h1 class=site-title>
<a href=/>
<img src=/images/profile_no_background.png>김영천 블로그 - 게을러지고 싶으면 공부해야 합니다.
</a>
</h1>
<ul class=site-navi-items>
<li class=site-navi-item-tags><a href=/tags/ title=Tags>Tags</a></li>
<li class=site-navi-item-archives><a href=/posts/ title=Archives>Archives</a></li>
<li class=site-navi-item-about><a href=/about/ title=About>About</a></li>
</ul>
</nav>
</header>
<hr class=site-header-bottom>
<div class=main role=main>
<section class="list term-list">
<article class=article>
<a href=/posts/2021-10-03-angular-reuse-strategy/ class=article-titles>
<h2 class=article-title>angular route reuse strategy</h2>
</a>
<ul class=article-meta>
<li class=article-meta-date><time>October 3, 2021</time></li>
<li class=article-meta-tags>
<a href=/tags/angular/>
<i class="fas fa-tag"></i>
angular
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/router/>
<i class="fas fa-tag"></i>
router
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/routereusestrategy/>
<i class="fas fa-tag"></i>
RouteReuseStrategy
</a>&nbsp;
</li>
</ul>
<div class=article-content>
Intro 웹앱을 개발하다보면 list->detail 패턴의 구조를 흔하게 작성하게 됩니다. list-detail 패턴이란 목록(list)에서 원하는 컨텐츠를 탐색 후 해당 컨텐츠의 상세한 정보를 보는 화면(detail)로 이동하는 방식을 말합니다. 이 때 detail 화면에서 뒤로 가기를 이용해 목록 화면으로 돌아올 경우 Angular는 해당 화면을 구성하는 컴포넌트를 처음부터 다시 생성(ngOnInit 실행)합니다. 이럴 경우엔 다음과 같은 문제가 발생합니다.
컴포넌트를 다시 생성하기 때문에 성능상 좋지 못합니다.
컴포넌트를 다시 그리기 때문에 로딩 화면이 보여지거나 스크롤 위치를 기억하지 등 유저 경험에 악영향을 미칩니다.
</div>
<div class=article-readmore><a href=/posts/2021-10-03-angular-reuse-strategy/>Read more...</a></div>
<div class=article-floatclear></div>
</article>
<article class=article>
<a href=/posts/2021-07-23-angular-ssr-chrome-inspect/ class=article-titles>
<h2 class=article-title>angular universal 메모리 누수 개선하기 - 003</h2>
<h3 class=article-subtitle>Chrome Inspect를 사용해서 Angular Universal 메모리 누수 개선하기</h3>
</a>
<ul class=article-meta>
<li class=article-meta-date><time>July 23, 2021</time></li>
<li class=article-meta-tags>
<a href=/tags/node/>
<i class="fas fa-tag"></i>
node
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/angular/>
<i class="fas fa-tag"></i>
angular
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/chrome/>
<i class="fas fa-tag"></i>
chrome
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/inspect/>
<i class="fas fa-tag"></i>
inspect
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/node/>
<i class="fas fa-tag"></i>
node
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/memory-leak/>
<i class="fas fa-tag"></i>
memory-leak
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/promise/>
<i class="fas fa-tag"></i>
promise
</a>&nbsp;
</li>
</ul>
<div class=article-content>
앵귤러 기반 웹사이트를 개발하면서 발생한 메모리 누수의 다양한 원인들과 그 해결법을 기록합니다.
들어가며 이번 문서에서는 Chrome Inspect를 이용해서 서버 사이드 렌더링 시 발생하는 메모리 누수를 확인하고 이를 수정하는 방법에 대해 알아봅니다. 이 문서는 Angular Universal에 대해 기본적인 이해가 있다는 것을 전제로 작성되었습니다.
앱 작성 직접 밑바닥부터 코드를 작성해가며 문제를 재현해봅시다.
앵귤러 앱 생성 다음 명령어를 이용해 앵귤러 앱을 생성해줍니다.
1 ng new sample universal 모듈 추가 다음 명령어를 이용해 universal 관련 모듈을 추가해줍니다.
</div>
<div class=article-readmore><a href=/posts/2021-07-23-angular-ssr-chrome-inspect/>Read more...</a></div>
<div class=article-floatclear></div>
</article>
<article class=article>
<a href=/posts/2021-07-15-angular-memory-leak002/ class=article-titles>
<h2 class=article-title>angular universal 메모리 누수 개선하기 - 002</h2>
<h3 class=article-subtitle>rxjs의 Observable 관련 메모리 누수 버그를 고쳐봅시다.</h3>
</a>
<ul class=article-meta>
<li class=article-meta-date><time>July 15, 2021</time></li>
<li class=article-meta-tags>
<a href=/tags/angular/>
<i class="fas fa-tag"></i>
angular
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/node/>
<i class="fas fa-tag"></i>
node
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/memory-leak/>
<i class="fas fa-tag"></i>
memory-leak
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/observable/>
<i class="fas fa-tag"></i>
observable
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/ngneat/until-destroy/>
<i class="fas fa-tag"></i>
ngneat/until-destroy
</a>&nbsp;
</li>
</ul>
<div class=article-content>
앵귤러 기반 웹사이트를 개발하면서 발생한 메모리 누수의 다양한 원인들과 그 해결법을 기록합니다.
들어가며 이번 문서에서는 rxjs 쓰다보면 흔하게 접할 수 있는 메모리 누수에 대해 알아보고 eslint와 until-destroy를 이용해 메모리 누수를 원천적으로 막을 수 있는 방법에 대해 알아봅시다. 이 문서는 rxjs, eslint에 대해 기본적인 이해가 있다는 것을 전제로 작성되었습니다.
Bad Case 다음은 흔하게 작성하는 앵귤러 컴포넌트 코드입니다.
1 2 3 4 5 6 7 8 9 10 11 12 @Component({ selector: 'app-a', templateUrl: '.
</div>
<div class=article-readmore><a href=/posts/2021-07-15-angular-memory-leak002/>Read more...</a></div>
<div class=article-floatclear></div>
</article>
<article class=article>
<a href=/posts/2021-07-11-angular-memory-leak001/ class=article-titles>
<h2 class=article-title>angular universal 메모리 누수 개선하기 - 001</h2>
<h3 class=article-subtitle>SSR 동작 시 발생하는 heap out of memory 수정하기</h3>
</a>
<ul class=article-meta>
<li class=article-meta-date><time>July 11, 2021</time></li>
<li class=article-meta-tags>
<a href=/tags/angular/>
<i class="fas fa-tag"></i>
angular
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/node/>
<i class="fas fa-tag"></i>
node
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/memory-leak/>
<i class="fas fa-tag"></i>
memory-leak
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/static/>
<i class="fas fa-tag"></i>
static
</a>&nbsp;
</li>
</ul>
<div class=article-content>
앵귤러 기반 웹사이트를 개발하면서 발생한 메모리 누수의 다양한 원인들과 그 해결법을 기록합니다.
들어가며 부끄럽지만 앵귤러 기반 웹 프로젝트를 진행하며 메모리 누수같은 문제는 사실 전혀 신경을 안(못)쓰고 있었습니다. 어차피 사용자 브라우저에서 돌아가니깐 새로고침만 하면 해당 페이지의 메모리는 초기화될테니 속도만 느리지 않다면 된다는 생각이었지요. 당연히 이는 크게 잘못된 생각이었고 서버사이드 렌더링(이하 SSR)를 적용하면서 문제는 상당히 심각하게 흘러갑니다. 지금부터 제가 개발하면서 만나본 다양한 메모리 누수(memory leak) 문제를 살펴보고 그 해결법을 기록하고자 합니다.
</div>
<div class=article-readmore><a href=/posts/2021-07-11-angular-memory-leak001/>Read more...</a></div>
<div class=article-floatclear></div>
</article>
<article class=article>
<a href=/posts/2020-04-26-angular-ssr-with-appengine/ class=article-titles>
<h2 class=article-title>구글 앱엔진에 ssr angular app 배포하기</h2>
<h3 class=article-subtitle>구글 앱엔진에 server side rendering을 지원하는 앵귤러 프로젝트를 배포해보자.</h3>
</a>
<ul class=article-meta>
<li class=article-meta-date><time>April 26, 2020</time></li>
<li class=article-meta-tags>
<a href=/tags/appengine/>
<i class="fas fa-tag"></i>
appengine
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/angular/>
<i class="fas fa-tag"></i>
angular
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/ssr/>
<i class="fas fa-tag"></i>
ssr
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/seo/>
<i class="fas fa-tag"></i>
seo
</a>&nbsp;
</li>
</ul>
<div class=article-content>
들어가며 이 문서는 기본적으로 앵귤러 공식 SSR 가이드를 따라하며 학습한 내용을 정리한 것입니다. SSR에 대해 궁금하시다면 이 링크를 참고하세요. 이 문서는 angular, appEngine을 사용할 줄 아는 사람을 대상으로 작성되었습니다.
프로젝트 생성 우선 앵귤러 프로젝트를 하나 생성해봅시다. 이 예제는 angular9 버전을 기준으로 작성되었습니다.
1 ng new test-project express-engine 추가 생성된 프로젝트 내부에서 아래의 명령어를 실행합니다.
1 ng add @nguniversal/express-engine 명령어를 성공적으로 실행했다면 아래의 파일이 추가되었을 것입니다.
</div>
<div class=article-readmore><a href=/posts/2020-04-26-angular-ssr-with-appengine/>Read more...</a></div>
<div class=article-floatclear></div>
</article>
<article class=article>
<a href=/posts/2018-09-21-tslint-in-emacs/ class=article-titles>
<h2 class=article-title>emacs에서 tslint 이용하기</h2>
</a>
<ul class=article-meta>
<li class=article-meta-date><time>September 21, 2018</time></li>
<li class=article-meta-tags>
<a href=/tags/emacs/>
<i class="fas fa-tag"></i>
emacs
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/typescript/>
<i class="fas fa-tag"></i>
typescript
</a>&nbsp;
</li>
<li class=article-meta-tags>
<a href=/tags/angular/>
<i class="fas fa-tag"></i>
angular
</a>&nbsp;
</li>
</ul>
<div class=article-content>
나는 angular6를 이용해 웹 프로젝트를 진행하는걸 선호하는데 툴은 emacs를 주로 쓰고있다(OS는 ubuntu). vscode를 쓸까 했는데 그냥 이맥스가 좋아서(이유는 없다) 이맥스에 꾸역꾸역 개발환경을 구축했다. tide를 이용해서 환경을 구성했는데 tslint가 작동하지 않아서 잠깐 했던 삽질을 여기에 짤막하게 기록한다.
vscode는 그냥 되던데? 이게 내가 헤매게 된 가장 큰 이유다. vscode는 마켓플레이스에 그냥 tslint 패키지를 내려받으면 알아서 잘 동작한다. 개발자가 따로 뭐 설정하고 해줄 필요가 없다.(물론 tslint.json이 필요하지만 angular 프로젝트는 생성 시 지가 알아서 만들어준다.
</div>
<div class=article-readmore><a href=/posts/2018-09-21-tslint-in-emacs/>Read more...</a></div>
<div class=article-floatclear></div>
</article>
</section>
</div>
<div class=site-footer>
<div class=copyright>&copy; Copyright 2020 YeongCheon</div>
<ul class=site-footer-items>
<li class=site-footer-item-rsslink>
<a href=/tags/angular/index.xml type=application/rss+xml target=_blank title=RSS>
<i class="fas fa-rss"></i>
</a>
</li>
<li class=site-footer-item-about><a href=/about/ title=About>About</a></li>
</ul>
<div class=powerdby>
Powered by <a href=https://gohugo.io/>Hugo</a> and <a href=https://github.com/taikii/whiteplain>Whiteplain</a>
</div>
</div>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-135478508-1','auto'),ga('send','pageview'))</script>
</body>
<script data-ad-client=ca-pub-4599234083355765 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
</html>